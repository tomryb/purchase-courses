{"version":3,"sources":["helpers/request.js","store/StoreProvider.jsx","components/Modal/Modal.jsx","components/LoginForm/LoginForm.jsx","components/Header/Header.jsx","App.jsx","index.jsx"],"names":["request","axios","create","baseURL","validateStatus","StoreContext","createContext","StoreProvider","children","useState","courses","setCourses","user","setUser","fetchData","a","get","data","useEffect","Provider","value","Modal","isOpen","shouldBeClosedOutsideClick","handleOnClose","modalRef","useRef","previousActiveElement","current","modal","document","activeElement","showModal","close","focus","handleCancle","event","preventDefault","addEventListener","removeEventListener","ReactDOM","createPortal","ref","className","onClick","target","body","LoginForm","isModalOpen","login","setLogin","password","setPassword","validateMessage","setValidateMessage","useContext","resetStateOfInput","handleOnSubmit","post","status","message","validateMessageComponent","length","method","onSubmit","onChange","type","Header","setIsModalOpen","setProperlyLabel","Boolean","App","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.483c07de.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst request = axios.create({\n  baseURL: \"http://localhost:8000\",\n  validateStatus: false\n});\n\nexport default request;\n","import React, { createContext, useEffect, useState } from \"react\";\n\nimport request from \"../helpers/request\";\n\nexport const StoreContext = createContext(null);\n\nconst StoreProvider = ({ children }) => {\n  const [courses, setCourses] = useState([]);\n  const [user, setUser] = useState(null);\n\n  const fetchData = async () => {\n    const { data } = await request.get(\"/courses\");\n\n    setCourses(data.courses);\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  return (\n    <StoreContext.Provider value={{courses, setCourses, user, setUser}}>\n      {children}\n    </StoreContext.Provider>\n  );\n};\nexport default StoreProvider;\n","import React, { useRef, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./styles.scss\";\n\nconst Modal = ({\n  children,\n  isOpen,\n  shouldBeClosedOutsideClick,\n  handleOnClose,\n}) => {\n  const modalRef = useRef(null);\n  const previousActiveElement = useRef(null);\n\n  useEffect(() => {\n    if (!modalRef.current) {\n      return;\n    }\n\n    const { current: modal } = modalRef;\n\n    if (isOpen) {\n      previousActiveElement.current = document.activeElement;\n      modal.showModal();\n    } else if (previousActiveElement.current) {\n      modal.close();\n      previousActiveElement.current.focus();\n    }\n  }, [isOpen]);\n\n  useEffect(() => {\n    const { current: modal } = modalRef;\n\n    const handleCancle = (event) => {\n      event.preventDefault();\n      handleOnClose();\n    };\n\n    modal.addEventListener(\"cancel\", handleCancle);\n    return () => {\n      modal.removeEventListener(\"cancle\", handleCancle);\n    };\n  }, [handleOnClose]);\n\n  const handleOutsideClick = ({ target }) => {\n    const { current } = modalRef;\n\n    if (shouldBeClosedOutsideClick && target === current) {\n      handleOnClose();\n    }\n  };\n\n  return ReactDOM.createPortal(\n    <dialog ref={modalRef} className=\"modal\" onClick={handleOutsideClick}>\n      {children}\n    </dialog>,\n    document.body\n  );\n};\n\nexport default Modal;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { StoreContext } from \"../../store/StoreProvider\";\nimport Modal from \"../Modal/Modal\";\n\nimport request from \"../../helpers/request\";\n\nimport \"./styles.scss\";\n\nconst LoginForm = ({ handleOnClose, isModalOpen }) => {\n  const [login, setLogin] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [validateMessage, setValidateMessage] = useState(\"\");\n\n  const { setUser } = useContext(StoreContext);\n\n  const handleOnChangeLogin = ({ target: { value } }) => setLogin(value);\n  const handleOnChangePassword = ({ target: { value } }) => setPassword(value);\n  const handleOnCloseModal = (event) => {\n    event.preventDefault();\n    handleOnClose();\n  };\n\n  const resetStateOfInput = () => {\n    setLogin(\"\");\n    setPassword(\"\");\n    setValidateMessage(\"\");\n  };\n\n  const handleOnSubmit = async (event) => {\n    event.preventDefault();\n    const { data, status } = await request.post(\"/users\", { login, password });\n\n    if (status === 200) {\n      setUser(data.user);\n      resetStateOfInput();\n      handleOnClose();\n    } else {\n      setValidateMessage(data.message);\n    }\n  };\n\n  useEffect(() => {\n      if(isModalOpen) {\n      resetStateOfInput()\n    }\n  }, [isModalOpen])\n\n  const validateMessageComponent = validateMessage.length ? (\n    <p className=\"validate-message\">{validateMessage}</p>\n  ) : null;\n\n  return (\n    <Modal\n      handleOnClose={handleOnClose}\n      isOpen={isModalOpen}\n      shouldBeClosedOutsideClick={true}\n    >\n      {validateMessageComponent}\n      <form className=\"form\" method=\"post\" onSubmit={handleOnSubmit}>\n        <div className=\"row\">\n          <label>\n            Login\n            <input onChange={handleOnChangeLogin} type=\"text\" value={login} />\n          </label>\n        </div>\n        <div className=\"row\">\n          <label>\n            Hasło\n            <input\n              onChange={handleOnChangePassword}\n              type=\"password\"\n              value={password}\n            />\n          </label>\n        </div>\n        <div className=\"row\">\n          <button type=\"submit\">Zaloguj</button>\n          <button onClick={handleOnCloseModal} type=\"button\">\n            Anuluj\n          </button>\n        </div>\n      </form>\n    </Modal>\n  );\n};\n\nexport default LoginForm;\n","import React, { useContext, useState } from \"react\";\n\nimport { StoreContext } from \"../../store/StoreProvider\";\nimport LoginForm from \"../LoginForm/LoginForm\";\n\nimport \"./styles.scss\";\n\nconst Header = () => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const { user, setUser } = useContext(StoreContext);\n\n  const handleOnClose = () => {\n    setIsModalOpen(false);\n  };\n\n  const setProperlyLabel = Boolean(user) ? \"Wyloguj się\" : \"Zaloguj się\";\n\n  const handleOnClick = () => {\n    if (Boolean(user)) {\n      setUser(null);\n    } else {\n      setIsModalOpen(true);\n    }\n  };\n\n  return (\n    <header>\n      <div className=\"logo\"></div>\n      <h1>Kursy dla programistów</h1>\n      <button onClick={handleOnClick} className=\"logged\">{setProperlyLabel}</button>\n      <LoginForm\n        handleOnClose={handleOnClose}\n        isModalOpen={isModalOpen}\n      ></LoginForm>\n    </header>\n  );\n};\n\nexport default Header;\n","import \"./App.scss\";\nimport Header from './components/Header/Header'\nimport StoreProvider from \"./store/StoreProvider\";\n\nfunction App() {\n  return (\n    <StoreProvider>\n      <Header></Header>\n    </StoreProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}