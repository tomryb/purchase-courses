(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{21:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(5),a=n.n(r),u=(n(21),n(3)),o=n(4),l=n.n(o),i=n(6),j=n(16),d=n.n(j).a.create({baseURL:"http://localhost:5000",validateStatus:!1}),b=n(0),O=Object(c.createContext)(null),f=function(e){var t=e.children,n=Object(c.useState)([]),s=Object(u.a)(n,2),r=s[0],a=s[1],o=Object(c.useState)(null),j=Object(u.a)(o,2),f=j[0],h=j[1],v=function(){var e=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("/courses");case 2:t=e.sent,n=t.data,a(n.courses);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){v()}),[]),Object(b.jsx)(O.Provider,{value:{courses:r,setCourses:a,user:f,setUser:h},children:t})},h=(n(42),function(e){var t=e.children,n=e.isOpen,s=e.shouldBeClosedOutsideClick,r=e.handleOnClose,u=Object(c.useRef)(null),o=Object(c.useRef)(null);Object(c.useEffect)((function(){if(u.current){var e=u.current;n?(o.current=document.activeElement,e.showModal()):o.current&&(e.close(),o.current.focus())}}),[n]),Object(c.useEffect)((function(){var e=u.current,t=function(e){e.preventDefault(),r()};return e.addEventListener("cancel",t),function(){e.removeEventListener("cancle",t)}}),[r]);return a.a.createPortal(Object(b.jsx)("dialog",{ref:u,className:"modal",onClick:function(e){var t=e.target,n=u.current;s&&t===n&&r()},children:t}),document.body)}),v=(n(43),function(e){var t=e.handleOnClose,n=e.isModalOpen,s=Object(c.useState)(""),r=Object(u.a)(s,2),a=r[0],o=r[1],j=Object(c.useState)(""),f=Object(u.a)(j,2),v=f[0],p=f[1],x=Object(c.useState)(""),m=Object(u.a)(x,2),g=m[0],C=m[1],w=Object(c.useContext)(O).setUser,y=function(){o(""),p(""),C("")},k=function(){var e=Object(i.a)(l.a.mark((function e(n){var c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,d.post("/users",{login:a,password:v});case 3:c=e.sent,s=c.data,200===c.status?(w(s.user),y(),t()):C(s.message);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){n&&y()}),[n]);var S=g.length?Object(b.jsx)("p",{className:"validate-message",children:g}):null;return Object(b.jsxs)(h,{handleOnClose:t,isOpen:n,shouldBeClosedOutsideClick:!0,children:[S,Object(b.jsxs)("form",{className:"form",method:"post",onSubmit:k,children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("label",{children:["Loginasd",Object(b.jsx)("input",{onChange:function(e){var t=e.target.value;return o(t)},type:"text",value:a})]})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("label",{children:["Has\u0142o",Object(b.jsx)("input",{onChange:function(e){var t=e.target.value;return p(t)},type:"password",value:v})]})}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("button",{type:"submit",children:"Zaloguj"}),Object(b.jsx)("button",{onClick:function(e){e.preventDefault(),t()},type:"button",children:"Anuluj"})]})]})]})}),p=(n(44),function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],s=t[1],r=Object(c.useContext)(O),a=r.user,o=r.setUser,l=Boolean(a)?"Wyloguj si\u0119":"Zaloguj si\u0119";return Object(b.jsxs)("header",{children:[Object(b.jsx)("div",{className:"logo"}),Object(b.jsx)("h1",{children:"Kursy dla programist\xf3w"}),Object(b.jsx)("button",{onClick:function(){Boolean(a)?o(null):s(!0)},className:"logged",children:l}),Object(b.jsx)(v,{handleOnClose:function(){s(!1)},isModalOpen:n})]})});var x=function(){return Object(b.jsx)(f,{children:Object(b.jsx)(p,{})})};a.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(x,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.e511318f.chunk.js.map